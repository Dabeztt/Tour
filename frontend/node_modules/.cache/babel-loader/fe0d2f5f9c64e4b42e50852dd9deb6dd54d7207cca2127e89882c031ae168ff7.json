{"ast":null,"code":"var _jsxFileName = \"E:\\\\thieu nang viet code\\\\cnpm\\\\tour-management\\\\frontend\\\\src\\\\admin\\\\EditTour.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport useFetch from '../hooks/useFetch'; // Import your custom hook for fetching data\nimport TourItem from './TourItem'; // Assuming you have a component to display a single tour item\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AdminTourManagement = () => {\n  _s();\n  const history = useHistory();\n  const [tours, setTours] = useState([]);\n  const {\n    data,\n    loading,\n    error\n  } = useFetch('/api/tours'); // Assuming your backend API endpoint for fetching tours\n\n  useEffect(() => {\n    if (data) {\n      setTours(data);\n    }\n  }, [data]);\n  const handleEditTour = tourId => {\n    history.push(`/edit-tour/${tourId}`);\n  };\n  const handleDeleteTour = async tourId => {\n    try {\n      await fetch(`/api/tours/${tourId}`, {\n        method: 'DELETE'\n      });\n      setTours(tours.filter(tour => tour._id !== tourId));\n    } catch (error) {\n      console.error('Failed to delete tour:', error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Tour Management\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 13\n    }, this), loading && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 25\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Error: \", error]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 23\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: tours.map(tour => /*#__PURE__*/_jsxDEV(TourItem, {\n        tour: tour,\n        onEdit: () => handleEditTour(tour._id),\n        onDelete: () => handleDeleteTour(tour._id)\n      }, tour._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 9\n  }, this);\n};\n_s(AdminTourManagement, \"h1u/VKz3oBXB13w9c69LgLpLbHA=\", false, function () {\n  return [useHistory, useFetch];\n});\n_c = AdminTourManagement;\nexport default AdminTourManagement;\nvar _c;\n$RefreshReg$(_c, \"AdminTourManagement\");","map":{"version":3,"names":["React","useState","useEffect","useHistory","useFetch","TourItem","AdminTourManagement","history","tours","setTours","data","loading","error","handleEditTour","tourId","push","handleDeleteTour","fetch","method","filter","tour","_id","console","map"],"sources":["E:/thieu nang viet code/cnpm/tour-management/frontend/src/admin/EditTour.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport useFetch from '../hooks/useFetch'; // Import your custom hook for fetching data\r\nimport TourItem from './TourItem'; // Assuming you have a component to display a single tour item\r\n\r\nconst AdminTourManagement = () => {\r\n    const history = useHistory();\r\n    const [tours, setTours] = useState([]);\r\n    const { data, loading, error } = useFetch('/api/tours'); // Assuming your backend API endpoint for fetching tours\r\n\r\n    useEffect(() => {\r\n        if (data) {\r\n            setTours(data);\r\n        }\r\n    }, [data]);\r\n\r\n    const handleEditTour = (tourId) => {\r\n        history.push(`/edit-tour/${tourId}`);\r\n    };\r\n\r\n    const handleDeleteTour = async (tourId) => {\r\n        try {\r\n            await fetch(`/api/tours/${tourId}`, {\r\n                method: 'DELETE'\r\n            });\r\n            setTours(tours.filter(tour => tour._id !== tourId));\r\n        } catch (error) {\r\n            console.error('Failed to delete tour:', error);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <h2>Tour Management</h2>\r\n            {loading && <p>Loading...</p>}\r\n            {error && <p>Error: {error}</p>}\r\n            <div>\r\n                {tours.map(tour => (\r\n                    <TourItem\r\n                        key={tour._id}\r\n                        tour={tour}\r\n                        onEdit={() => handleEditTour(tour._id)}\r\n                        onDelete={() => handleDeleteTour(tour._id)}\r\n                    />\r\n                ))}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default AdminTourManagement;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,UAAU,QAAQ,kBAAkB;AAC7C,OAAOC,QAAQ,MAAM,mBAAmB,CAAC,CAAC;AAC1C,OAAOC,QAAQ,MAAM,YAAY,CAAC,CAAC;AAAA;AAEnC,MAAMC,mBAAmB,GAAG,MAAM;EAAA;EAC9B,MAAMC,OAAO,GAAGJ,UAAU,EAAE;EAC5B,MAAM,CAACK,KAAK,EAAEC,QAAQ,CAAC,GAAGR,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM;IAAES,IAAI;IAAEC,OAAO;IAAEC;EAAM,CAAC,GAAGR,QAAQ,CAAC,YAAY,CAAC,CAAC,CAAC;;EAEzDF,SAAS,CAAC,MAAM;IACZ,IAAIQ,IAAI,EAAE;MACND,QAAQ,CAACC,IAAI,CAAC;IAClB;EACJ,CAAC,EAAE,CAACA,IAAI,CAAC,CAAC;EAEV,MAAMG,cAAc,GAAIC,MAAM,IAAK;IAC/BP,OAAO,CAACQ,IAAI,CAAE,cAAaD,MAAO,EAAC,CAAC;EACxC,CAAC;EAED,MAAME,gBAAgB,GAAG,MAAOF,MAAM,IAAK;IACvC,IAAI;MACA,MAAMG,KAAK,CAAE,cAAaH,MAAO,EAAC,EAAE;QAChCI,MAAM,EAAE;MACZ,CAAC,CAAC;MACFT,QAAQ,CAACD,KAAK,CAACW,MAAM,CAACC,IAAI,IAAIA,IAAI,CAACC,GAAG,KAAKP,MAAM,CAAC,CAAC;IACvD,CAAC,CAAC,OAAOF,KAAK,EAAE;MACZU,OAAO,CAACV,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;IAClD;EACJ,CAAC;EAED,oBACI;IAAA,wBACI;MAAA,UAAI;IAAe;MAAA;MAAA;MAAA;IAAA,QAAK,EACvBD,OAAO,iBAAI;MAAA,UAAG;IAAU;MAAA;MAAA;MAAA;IAAA,QAAI,EAC5BC,KAAK,iBAAI;MAAA,WAAG,SAAO,EAACA,KAAK;IAAA;MAAA;MAAA;MAAA;IAAA,QAAK,eAC/B;MAAA,UACKJ,KAAK,CAACe,GAAG,CAACH,IAAI,iBACX,QAAC,QAAQ;QAEL,IAAI,EAAEA,IAAK;QACX,MAAM,EAAE,MAAMP,cAAc,CAACO,IAAI,CAACC,GAAG,CAAE;QACvC,QAAQ,EAAE,MAAML,gBAAgB,CAACI,IAAI,CAACC,GAAG;MAAE,GAHtCD,IAAI,CAACC,GAAG;QAAA;QAAA;QAAA;MAAA,QAKpB;IAAC;MAAA;MAAA;MAAA;IAAA,QACA;EAAA;IAAA;IAAA;IAAA;EAAA,QACJ;AAEd,CAAC;AAAC,GA3CIf,mBAAmB;EAAA,QACLH,UAAU,EAEOC,QAAQ;AAAA;AAAA,KAHvCE,mBAAmB;AA6CzB,eAAeA,mBAAmB;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}